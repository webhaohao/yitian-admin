(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0046"],{"1eYa":function(t,e,o){"use strict";o.r(e);var n=o("cLjf"),r=o.n(n),s=o("6ZY3"),a=o.n(s),i=o("hDQ3"),c=o.n(i),l=o("uARZ"),u=o("glbJ"),p=o("KTTK"),m={components:{Tinymce:u.a,Sticky:l.a},data:function(){return{postForm:{status:"draft",description:""}}},computed:{},created:function(){var t=this;c()(r.a.mark(function e(){var o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.o)();case 2:o=e.sent,console.log(o),t.postForm=a()(t.postForm,o),console.log(t.postForm);case 6:case"end":return e.stop()}},e,t)}))()},mounted:function(){},methods:{submitForm:function(){var t=this;console.log(this.postForm),this.$refs.postForm.validate(function(){var e=c()(r.a.mark(function e(o){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=12;break}return e.next=3,Object(p.g)(t.postForm);case 3:n=e.sent,console.log(n),t.loading=!0,t.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3}),t.postForm.status="published",t.loading=!1,console.log(t.postForm),e.next=14;break;case 12:return console.log("error submit!!"),e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},draftForm:function(){}}},d=(o("q+b4"),o("ZrdR")),f=Object(d.a)(m,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"createPost-container"},[o("el-form",{ref:"postForm",staticClass:"form-container",attrs:{model:t.postForm,rules:t.rules}},[o("sticky",{attrs:{"class-name":"sub-navbar "+t.postForm.status}},[o("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"margin-left":"10px"},attrs:{type:"success"},on:{click:t.submitForm}},[t._v("发布\n      ")]),t._v(" "),o("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{type:"warning"},on:{click:t.draftForm}},[t._v("草稿")])],1),t._v(" "),o("div",{staticClass:"createPost-main-container"},[o("el-row",[o("el-form-item",{staticStyle:{"margin-bottom":"30px"},attrs:{prop:"detail"}},[o("el-col",{attrs:{span:24}},[o("Tinymce",{ref:"editor",attrs:{height:400},model:{value:t.postForm.description,callback:function(e){t.$set(t.postForm,"description",e)},expression:"postForm.description"}})],1)],1)],1)],1)],1)],1)},[],!1,null,"2e59d648",null);f.options.__file="index.vue";e.default=f.exports},pn9w:function(t,e,o){},"q+b4":function(t,e,o){"use strict";var n=o("pn9w");o.n(n).a}}]);